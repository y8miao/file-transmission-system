My program is built on ubuntu1604-000 and ubuntu1604-008 on school's server.

Implementation decision: server poll() timeout is set to 60 seconds, for testing purposes if you wish to change that just change the timeout number at line 45.

For my client, it identifies different operations by looking at the numbers of command line arguments and do corresponding operations based on that(send F, send download/upload requests).

For my server, I use poll() function. At the setup step, I have fds list with only the listening socket. As clients call connect, poll will notify that there are incoming connection from listening socket, then the program will accept() the incoming connections and add them into the fds list. After they are added into the fds list, poll will notify when the non-listen sockets have infomation to send, which would be the command and key in this case. Program will then receive the command and key and put them into the look_up table, look_up table entries are as follows: key, socket, indicator. indicator is 0 for unmatched downloader, -1 for unmatched uploader and other end's socket number for matched sockets. After put incoming sockets into look_up table, I remove them from the fds list if they are downloader or unmatched uploader since I'm not intersted in anything they send to me yet. After that, If a file discriptor notifies me and is not the listening socket, I know that it must be an uploader that is already matched, I go through the look_up table to find its other end and transmit files accordingly. Once 'F' is received, the program sets a global variable NON_ACCEPT to true for any more incoming connections, I accept and close right away(suggested in piazza) and if my fds list only has 1 entry which must be the listening socket, I terminate the program, if there are still ongoing transmitions, after each finished transmition the program will check the size of fds list and value of NON_ACCEPT if NON_ACCEPT is set to 1 and size of fds list reaches 1 after transmition, the program also terminates otherwise it will wait for all the fds to finish their jobs first.
